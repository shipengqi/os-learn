<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Vim # vim 的四种模式：命令模式，输入模式，底线命令模式，可视模式。
命令模式 # 启动 vim 就会直接进入命令模式。此状态下敲击键盘识别为命令，而非输入字符。比如此时按下 i，会进入输入模式。
i a o I A O 都是进入输入模式，区别在于： i：从光标所在位置前面开始插入 I：在当前行首插入 a：从光标所在位置后面开始输入 A：在当前行尾插入 o：在光标所在行下方新增一行并进入输入模式 O：在当前上面一行插入 yy：复制整行内容，例如 3yy 就是复制光标以下的 3 行内容。 y$：复制当前光标到行尾内容 p：粘贴 dd：剪切或者删除光标所在行，20dd 则是删除光标以下的 20 行。 d$：剪切或者删除光标到行尾内容 u：撤销上一次操作 ctrl + r：如果错误的撤销了，可以使用 ctrl + r 恢复。 x：删除当前光标后的一个字符。 G：移动到最后一行，20G 则会移动到第 20 行（可配合 :set nu）。 gg：移动到第一行 :：切换到底线命令模式，也就是在 vim 编辑器的最下面一行输入命令。 输入模式 # 在命令模式下按下 i 就进入了输入模式。
ESC，退出输入模式，切换到命令模式 底线命令模式 # 在命令模式下按下 : 就进入了底线命令模式。底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。
q：退出 vim。 q!：不保存修改，退出 vim。 w：保存文件 wq 或者 x：保存并退出。 set nu：显示行号 set nonu：取消行号 /：向前搜索 ?"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="Vim"><meta property="og:description" content="Vim # vim 的四种模式：命令模式，输入模式，底线命令模式，可视模式。
命令模式 # 启动 vim 就会直接进入命令模式。此状态下敲击键盘识别为命令，而非输入字符。比如此时按下 i，会进入输入模式。
i a o I A O 都是进入输入模式，区别在于： i：从光标所在位置前面开始插入 I：在当前行首插入 a：从光标所在位置后面开始输入 A：在当前行尾插入 o：在光标所在行下方新增一行并进入输入模式 O：在当前上面一行插入 yy：复制整行内容，例如 3yy 就是复制光标以下的 3 行内容。 y$：复制当前光标到行尾内容 p：粘贴 dd：剪切或者删除光标所在行，20dd 则是删除光标以下的 20 行。 d$：剪切或者删除光标到行尾内容 u：撤销上一次操作 ctrl + r：如果错误的撤销了，可以使用 ctrl + r 恢复。 x：删除当前光标后的一个字符。 G：移动到最后一行，20G 则会移动到第 20 行（可配合 :set nu）。 gg：移动到第一行 :：切换到底线命令模式，也就是在 vim 编辑器的最下面一行输入命令。 输入模式 # 在命令模式下按下 i 就进入了输入模式。
ESC，退出输入模式，切换到命令模式 底线命令模式 # 在命令模式下按下 : 就进入了底线命令模式。底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。
q：退出 vim。 q!：不保存修改，退出 vim。 w：保存文件 wq 或者 x：保存并退出。 set nu：显示行号 set nonu：取消行号 /：向前搜索 ?"><meta property="og:type" content="article"><meta property="og:url" content="http://shipengqi.github.io/os-learn/docs/commands/03_vim/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-11-15T20:23:43+08:00"><title>Vim | OS Learning</title><link rel=manifest href=/os-learn/manifest.json><link rel=icon href=/os-learn/favicon.png><link rel=stylesheet href=/os-learn/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz+OQteg=" crossorigin=anonymous><script defer src=/os-learn/flexsearch.min.js></script>
<script defer src=/os-learn/en.search.min.6604ae75b544b331606533d1df45c879b810d1579a8b53a95e4916d989bd2a93.js integrity="sha256-ZgSudbVEszFgZTPR30XIebgQ0Veai1OpXkkW2Ym9KpM=" crossorigin=anonymous></script>
<script defer src=/os-learn/sw.min.73e4e12d3b3ff9b5bd6410a479234d8908ebac0e4d11ef31f508715b8e7f7c7d.js integrity="sha256-c+ThLTs/+bW9ZBCkeSNNiQjrrA5NEe8x9QhxW45/fH0=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/os-learn/><span>OS Learning</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://shipengqi.github.io/ target=_blank rel=noopener>Blog</a></li><li><a href=https://github.com/shipengqi/os-learn target=_blank rel=noopener>Github</a></li></ul><ul><li><span>Linux 常用命令</span><ul><li><a href=/os-learn/docs/commands/01_view_text/>查看文件内容</a></li><li><a href=/os-learn/docs/commands/02_tar/>打包压缩</a></li><li><a href=/os-learn/docs/commands/03_vim/ class=active>Vim</a></li><li><a href=/os-learn/docs/commands/04_user_manage/>用户管理</a></li><li><a href=/os-learn/docs/commands/05_file_perm/>文件权限</a></li><li><a href=/os-learn/docs/commands/06_network/>网络管理</a></li><li><a href=/os-learn/docs/commands/07_package_manage/>包管理器</a></li><li><a href=/os-learn/docs/commands/08_grup/>grup</a></li><li><a href=/os-learn/docs/commands/09_process/>进程管理</a></li><li><a href=/os-learn/docs/commands/10_systemd/>systemctl</a></li><li><a href=/os-learn/docs/commands/11_selinux/>SELinux</a></li><li><a href=/os-learn/docs/commands/12_mem_disk/>内存和磁盘</a></li><li><a href=/os-learn/docs/commands/13_sar/>查看系统状态</a></li><li><a href=/os-learn/docs/commands/14_shell/>Shell</a></li><li><a href=/os-learn/docs/commands/15_script_priority/>脚本控制</a></li><li><a href=/os-learn/docs/commands/16_text_operation/>操作文本</a></li><li><a href=/os-learn/docs/commands/17_firewall/>防火墙</a></li><li><a href=/os-learn/docs/commands/18_ssh/>SSH</a></li><li><a href=/os-learn/docs/commands/19_ftp/>FTP</a></li><li><a href=/os-learn/docs/commands/20_nfs/>NFS</a></li><li><a href=/os-learn/docs/commands/21_dns/>DNS</a></li><li><a href=/os-learn/docs/commands/22_kernel_upgrade/>内核升级</a></li><li><a href=/os-learn/docs/commands/23_pty_tty/>pty</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/os-learn/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Vim</strong>
<label for=toc-control><img src=/os-learn/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#vim>Vim</a><ul><li><a href=#命令模式>命令模式</a></li><li><a href=#输入模式>输入模式</a></li><li><a href=#底线命令模式>底线命令模式</a></li><li><a href=#可视模式>可视模式</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=vim>Vim
<a class=anchor href=#vim>#</a></h1><p>vim 的四种模式：命令模式，输入模式，底线命令模式，可视模式。</p><h2 id=命令模式>命令模式
<a class=anchor href=#%e5%91%bd%e4%bb%a4%e6%a8%a1%e5%bc%8f>#</a></h2><p>启动 vim 就会直接进入命令模式。此状态下敲击键盘识别为命令，而非输入字符。比如此时按下 <code>i</code>，会进入输入模式。</p><ul><li><code>i</code> <code>a</code> <code>o</code> <code>I</code> <code>A</code> <code>O</code> 都是进入输入模式，区别在于：<ul><li><code>i</code>：从光标所在位置前面开始插入</li><li><code>I</code>：在当前行首插入</li><li><code>a</code>：从光标所在位置后面开始输入</li><li><code>A</code>：在当前行尾插入</li><li><code>o</code>：在光标所在行下方新增一行并进入输入模式</li><li><code>O</code>：在当前上面一行插入</li></ul></li><li><code>yy</code>：复制整行内容，例如 <code>3yy</code> 就是复制光标以下的 3 行内容。</li><li><code>y$</code>：复制当前光标到行尾内容</li><li><code>p</code>：粘贴</li><li><code>dd</code>：剪切或者删除光标所在行，<code>20dd</code> 则是删除光标以下的 20 行。</li><li><code>d$</code>：剪切或者删除光标到行尾内容</li><li><code>u</code>：撤销上一次操作</li><li><code>ctrl + r</code>：如果错误的撤销了，可以使用 <code>ctrl + r</code> 恢复。</li><li><code>x</code>：删除当前光标后的一个字符。</li><li><code>G</code>：移动到最后一行，<code>20G</code> 则会移动到第 20 行（可配合 <code>:set nu</code>）。</li><li><code>gg</code>：移动到第一行</li><li><code>:</code>：切换到底线命令模式，也就是在 vim 编辑器的最下面一行输入命令。</li></ul><h2 id=输入模式>输入模式
<a class=anchor href=#%e8%be%93%e5%85%a5%e6%a8%a1%e5%bc%8f>#</a></h2><p>在命令模式下按下 <code>i</code> 就进入了输入模式。</p><ul><li><code>ESC</code>，退出输入模式，切换到命令模式</li></ul><h2 id=底线命令模式>底线命令模式
<a class=anchor href=#%e5%ba%95%e7%ba%bf%e5%91%bd%e4%bb%a4%e6%a8%a1%e5%bc%8f>#</a></h2><p>在命令模式下按下 <code>:</code> 就进入了底线命令模式。底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。</p><ul><li><code>q</code>：退出 vim。</li><li><code>q!</code>：不保存修改，退出 vim。</li><li><code>w</code>：保存文件</li><li><code>wq</code> 或者 <code>x</code>：保存并退出。</li><li><code>set nu</code>：显示行号</li><li><code>set nonu</code>：取消行号</li><li><code>/</code>：向前搜索</li><li><code>?</code>：向后搜索</li><li><code>n</code>：向下查找</li><li><code>N</code>：向上查找</li><li><code>s/old/new</code>：用来替换字符串，默认只替换光标所在的行，要替换所有的行使用 <code>%s/old/new</code>，例如 <code>%s/abc/ABC</code>，如果要全局替换所有匹配到的字符使用 <code>%s/old/new/g</code>。</li><li>按 <code>ESC</code> 键可随时退出底线命令模式。</li></ul><h2 id=可视模式>可视模式
<a class=anchor href=#%e5%8f%af%e8%a7%86%e6%a8%a1%e5%bc%8f>#</a></h2><p>当需要对文件内容进行批量操作时使用，在命令行模式下，可进入不同的可视模式：</p><ul><li><code>v</code>：字符可视模式，文本选择是以字符为单位的。</li><li><code>V</code>：行可视模式，文本选择是以行为单位的。</li><li><code>ctrl + v</code>：块可视模式，配合 <code>d</code> 和 <code>I</code> 可以进行块操作。例如多行注释，可以 <code>ctrl + v</code> 进入块可视模式，然后上下移动光标，选中添加注释的块，然后按 <code>I</code>，在插入 <code>#</code>，再按两次 <code>ESC</code>，就可以实现多行注释。如果要取消多行注释，可以 <code>ctrl + v</code> 进入块可视模式，然后上下移动光标，选中添加注释的块，然后按 <code>d</code> 来删除 <code>#</code>。</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/shipengqi/os-learn/commit/f0498284cef63640beb98541a4d4ecaed2e1b07f title='Last modified by shipengqi | November 15, 2023' target=_blank rel=noopener><img src=/os-learn/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 15, 2023</span></a></div><div><a class="flex align-center" href=https://github.com/shipengqi/os-learn/edit/master/content/docs/commands/03_vim.md target=_blank rel=noopener><img src=/os-learn/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#vim>Vim</a><ul><li><a href=#命令模式>命令模式</a></li><li><a href=#输入模式>输入模式</a></li><li><a href=#底线命令模式>底线命令模式</a></li><li><a href=#可视模式>可视模式</a></li></ul></li></ul></nav></div></aside></main></body></html>